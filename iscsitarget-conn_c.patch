diff -ur iscsitarget-1.4.20.2.orig/kernel/conn.c iscsitarget-1.4.20.2/kernel/conn.c
--- iscsitarget-1.4.20.2.orig/kernel/conn.c	2011-04-12 23:35:10.781502739 +0200
+++ iscsitarget-1.4.20.2/kernel/conn.c	2011-04-12 23:35:34.583502734 +0200
@@ -44,7 +44,7 @@
 		switch (sk->sk_family) {
 		case AF_INET:
 			snprintf(buf, sizeof(buf),
-				 "%u.%u.%u.%u", NIPQUAD(inet_sk(sk)->inet_daddr));
+				 "%pI4", inet_sk(sk)->inet_daddr);
 			break;
 		case AF_INET6:
 			snprintf(buf, sizeof(buf), "[%pI6]",
